interactions:
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      User-Agent:
      - python-requests/2.32.4
    method: GET
    uri: https://zenodo.org/api/records/7097299
  response:
    body:
      string: '{"created": "2022-09-20T15:04:03.118027+00:00", "modified": "2022-09-21T14:26:29.349341+00:00",
        "id": 7097299, "conceptrecid": "7097298", "doi": "10.5281/zenodo.7097299",
        "conceptdoi": "10.5281/zenodo.7097298", "doi_url": "https://doi.org/10.5281/zenodo.7097299",
        "metadata": {"title": "Test Write File - Remote", "doi": "10.5281/zenodo.7097299",
        "publication_date": "2022-09-20", "description": "<p>Test Write File - Remote</p>",
        "access_right": "open", "creators": [{"name": "FD Tester", "affiliation":
        "FD Testing Write"}], "resource_type": {"title": "Dataset", "type": "dataset"},
        "license": {"id": "cc-zero"}, "relations": {"version": [{"index": 0, "is_last":
        true, "parent": {"pid_type": "recid", "pid_value": "7097298"}}]}}, "title":
        "Test Write File - Remote", "links": {"self": "https://zenodo.org/api/records/7097299",
        "self_html": "https://zenodo.org/records/7097299", "preview_html": "https://zenodo.org/records/7097299?preview=1",
        "doi": "https://doi.org/10.5281/zenodo.7097299", "self_doi": "https://doi.org/10.5281/zenodo.7097299",
        "self_doi_html": "https://zenodo.org/doi/10.5281/zenodo.7097299", "reserve_doi":
        "https://zenodo.org/api/records/7097299/draft/pids/doi", "parent": "https://zenodo.org/api/records/7097298",
        "parent_html": "https://zenodo.org/records/7097298", "parent_doi": "https://doi.org/10.5281/zenodo.7097298",
        "parent_doi_html": "https://zenodo.org/doi/10.5281/zenodo.7097298", "self_iiif_manifest":
        "https://zenodo.org/api/iiif/record:7097299/manifest", "self_iiif_sequence":
        "https://zenodo.org/api/iiif/record:7097299/sequence/default", "files": "https://zenodo.org/api/records/7097299/files",
        "media_files": "https://zenodo.org/api/records/7097299/media-files", "archive":
        "https://zenodo.org/api/records/7097299/files-archive", "archive_media": "https://zenodo.org/api/records/7097299/media-files-archive",
        "latest": "https://zenodo.org/api/records/7097299/versions/latest", "latest_html":
        "https://zenodo.org/records/7097299/latest", "versions": "https://zenodo.org/api/records/7097299/versions",
        "draft": "https://zenodo.org/api/records/7097299/draft", "access_links": "https://zenodo.org/api/records/7097299/access/links",
        "access_grants": "https://zenodo.org/api/records/7097299/access/grants", "access_users":
        "https://zenodo.org/api/records/7097299/access/users", "access_request": "https://zenodo.org/api/records/7097299/access/request",
        "access": "https://zenodo.org/api/records/7097299/access", "communities":
        "https://zenodo.org/api/records/7097299/communities", "communities-suggestions":
        "https://zenodo.org/api/records/7097299/communities-suggestions", "requests":
        "https://zenodo.org/api/records/7097299/requests"}, "updated": "2022-09-21T14:26:29.349341+00:00",
        "recid": "7097299", "revision": 2, "files": [{"id": "0ba59941-9f76-4865-aabe-8bebd572593f",
        "key": "datapackage.json", "size": 541, "checksum": "md5:fb17a3d877b5c4c7c089a29d1f21f7d4",
        "links": {"self": "https://zenodo.org/api/records/7097299/files/datapackage.json/content"}}],
        "swh": {}, "owners": [{"id": "405552"}], "status": "published", "stats": {"downloads":
        494, "unique_downloads": 438, "views": 42, "unique_views": 41, "version_downloads":
        485, "version_unique_downloads": 429, "version_unique_views": 41, "version_views":
        42}, "state": "done", "submitted": true}'
    headers:
      access-control-allow-origin:
      - '*'
      access-control-expose-headers:
      - Content-Type, ETag, Link, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Reset
      cache-control:
      - private
      content-encoding:
      - gzip
      content-security-policy:
      - 'default-src ''self'' fonts.googleapis.com *.gstatic.com data: ''unsafe-inline''
        ''unsafe-eval'' blob: zenodo-broker.web.cern.ch zenodo-broker-qa.web.cern.ch
        maxcdn.bootstrapcdn.com cdnjs.cloudflare.com ajax.googleapis.com webanalytics.web.cern.ch'
      content-type:
      - application/json
      date:
      - Sat, 26 Jul 2025 12:01:10 GMT
      etag:
      - W/"2"
      link:
      - <https://zenodo.org/api/records/7097299> ; rel="linkset" ; type="application/linkset+json"
      permissions-policy:
      - interest-cohort=()
      referrer-policy:
      - strict-origin-when-cross-origin
      retry-after:
      - '42'
      server:
      - nginx
      set-cookie:
      - 5569e5a730cade8ff2b54f1e815f3670=8744e51872eabf6cc8db27f0ab820c1d; path=/;
        HttpOnly; Secure; SameSite=None
      strict-transport-security:
      - max-age=31556926; includeSubDomains
      - max-age=15768000
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-frame-options:
      - sameorigin
      x-ratelimit-limit:
      - '133'
      x-ratelimit-remaining:
      - '110'
      x-ratelimit-reset:
      - '1753531313'
      x-request-id:
      - 47dd4d2bb3f74f435b09c8e4fbec7349
      x-xss-protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      Cookie:
      - 5569e5a730cade8ff2b54f1e815f3670=ee05b1c4fc826a86b832f3008890c77d; session=e95d003b25bdc0a8_6884c375.quaFFyl1wVZl9JF9_wGqPGH5YOE
      User-Agent:
      - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML,
        like Gecko) Chrome/54.0.2840.87 Safari/537.36
    method: GET
    uri: https://zenodo.org/records/7097299/files/datapackage.json
  response:
    body:
      string: "{\n  \"name\": \"test-repo-resources-with-http-data-csv\",\n  \"resources\":
        [\n    {\n      \"name\": \"first-http-resource\",\n      \"path\": \"https://raw.githubusercontent.com/fdtester/test-repo-with-datapackage-yaml/master/data/capitals.csv\",\n
        \     \"schema\": {\n        \"fields\": [\n          {\n            \"name\":
        \"id\",\n            \"type\": \"integer\"\n          },\n          {\n            \"name\":
        \"cid\",\n            \"type\": \"string\"\n          },\n          {\n            \"name\":
        \"name\",\n            \"type\": \"string\"\n          }\n        ]\n      }\n
        \   }\n  ]\n}"
    headers:
      accept-ranges:
      - bytes
      content-disposition:
      - inline
      content-encoding:
      - gzip
      content-security-policy:
      - 'default-src ''self'' fonts.googleapis.com *.gstatic.com data: ''unsafe-inline''
        ''unsafe-eval'' blob: zenodo-broker.web.cern.ch zenodo-broker-qa.web.cern.ch
        maxcdn.bootstrapcdn.com cdnjs.cloudflare.com ajax.googleapis.com webanalytics.web.cern.ch'
      content-type:
      - text/plain; charset=utf-8
      - text/plain; charset=utf-8
      date:
      - Sat, 26 Jul 2025 12:01:11 GMT
      oc-checksum:
      - MD5:fb17a3d877b5c4c7c089a29d1f21f7d4
      referrer-policy:
      - strict-origin-when-cross-origin
      retry-after:
      - '42'
      server:
      - nginx
      set-cookie:
      - session=e95d003b25bdc0a8_6884c375.quaFFyl1wVZl9JF9_wGqPGH5YOE; Expires=Thu,
        31 Jul 2025 12:01:11 GMT; Secure; HttpOnly; Path=/; SameSite=Lax
      strict-transport-security:
      - max-age=31556926; includeSubDomains
      transfer-encoding:
      - chunked
      vary:
      - Accept-Encoding
      x-content-type-options:
      - nosniff
      x-download-options:
      - noopen
      x-frame-options:
      - sameorigin
      x-permitted-cross-domain-policies:
      - none
      x-ratelimit-limit:
      - '133'
      x-ratelimit-remaining:
      - '77'
      x-ratelimit-reset:
      - '1753531314'
      x-xss-protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      User-Agent:
      - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML,
        like Gecko) Chrome/54.0.2840.87 Safari/537.36
    method: GET
    uri: https://raw.githubusercontent.com/fdtester/test-repo-with-datapackage-yaml/master/data/capitals.csv
  response:
    body:
      string: 'id, cid, name

        1, 1, London

        2, 2, Paris

        3, 3, Berlin

        4, 4, Rome

        5, 5, Lisbon

        '
    headers:
      Accept-Ranges:
      - bytes
      Access-Control-Allow-Origin:
      - '*'
      Cache-Control:
      - max-age=300
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '85'
      Content-Security-Policy:
      - default-src 'none'; style-src 'unsafe-inline'; sandbox
      Content-Type:
      - text/plain; charset=utf-8
      Cross-Origin-Resource-Policy:
      - cross-origin
      Date:
      - Sat, 26 Jul 2025 12:01:11 GMT
      ETag:
      - W/"4ecb8acca3a70f8cdeb232791a64d0e075caf179c93f850b352db9ac226d6675"
      Expires:
      - Sat, 26 Jul 2025 12:06:11 GMT
      Source-Age:
      - '0'
      Strict-Transport-Security:
      - max-age=31536000
      Vary:
      - Authorization,Accept-Encoding
      Via:
      - 1.1 varnish
      X-Cache:
      - HIT
      X-Cache-Hits:
      - '3'
      X-Content-Type-Options:
      - nosniff
      X-Fastly-Request-ID:
      - 3d9d82dc489adf21a7b44799e8394252b6593762
      X-Frame-Options:
      - deny
      X-GitHub-Request-Id:
      - 76BF:10BD21:636C21:755B33:6884B81A
      X-Served-By:
      - cache-muc13965-MUC
      X-Timer:
      - S1753531271.231170,VS0,VE144
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate, zstd
      Connection:
      - keep-alive
      User-Agent:
      - Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML,
        like Gecko) Chrome/54.0.2840.87 Safari/537.36
    method: GET
    uri: https://raw.githubusercontent.com/fdtester/test-repo-with-datapackage-yaml/master/data/capitals.csv
  response:
    body:
      string: 'id, cid, name

        1, 1, London

        2, 2, Paris

        3, 3, Berlin

        4, 4, Rome

        5, 5, Lisbon

        '
    headers:
      Accept-Ranges:
      - bytes
      Access-Control-Allow-Origin:
      - '*'
      Cache-Control:
      - max-age=300
      Connection:
      - keep-alive
      Content-Encoding:
      - gzip
      Content-Length:
      - '85'
      Content-Security-Policy:
      - default-src 'none'; style-src 'unsafe-inline'; sandbox
      Content-Type:
      - text/plain; charset=utf-8
      Cross-Origin-Resource-Policy:
      - cross-origin
      Date:
      - Sat, 26 Jul 2025 12:01:11 GMT
      ETag:
      - W/"4ecb8acca3a70f8cdeb232791a64d0e075caf179c93f850b352db9ac226d6675"
      Expires:
      - Sat, 26 Jul 2025 12:06:11 GMT
      Source-Age:
      - '0'
      Strict-Transport-Security:
      - max-age=31536000
      Vary:
      - Authorization,Accept-Encoding
      Via:
      - 1.1 varnish
      X-Cache:
      - HIT
      X-Cache-Hits:
      - '1'
      X-Content-Type-Options:
      - nosniff
      X-Fastly-Request-ID:
      - dd32ebeaa0d02f278ce4aa477bc66a4bfd232fad
      X-Frame-Options:
      - deny
      X-GitHub-Request-Id:
      - 76BF:10BD21:636C21:755B33:6884B81A
      X-Served-By:
      - cache-muc13942-MUC
      X-Timer:
      - S1753531271.406530,VS0,VE1
      X-XSS-Protection:
      - 1; mode=block
    status:
      code: 200
      message: OK
version: 1
